<div class="container">
  <h2 class="text-center">Newsletter Sign Up</h2>
  <div class="form" ng-if="signUpCtrl.isSaved">
    <div class="alert alert-success text-center">
      <h4 class="well">Your information has been saved.</h4>
      <a class="btn btn-success" ui-sref="my.info">View My Info</a>
    </div>
  </div>
  <form name="regForm" class="form" ng-if="!signUpCtrl.isSaved" novalidate>
    <div class="form-group">
      <label>First Name</label>
      <input type="text" name="first_name" class="form-control"
        autofocus
        required
        ng-model="signUpCtrl.user.first_name">
      <div class="text-danger"
        ng-if="regForm.first_name.$error.required && regForm.first_name.$touched">
        Please enter your first name
      </div>
    </div>
    <div class="form-group">
      <label>Last Name</label>
      <input type="text" name="last_name" class="form-control"
        required
        ng-model="signUpCtrl.user.last_name">
      <div class="text-danger"
        ng-if="regForm.last_name.$error.required && regForm.last_name.$touched">
        Please enter your last name
      </div>
    </div>
    <div class="form-group">
      <label>Email Address</label>
      <input type="email" name="email" class="form-control"
        placeholder="name@example.com"
        required
        ng-model="signUpCtrl.user.email">
      <div class="text-danger"
        ng-if="regForm.email.$invalid && regForm.email.$touched">
        Please enter a valid email address
      </div>
    </div>
    <div class="form-group">
      <label>Phone Number</label>
      <input type="text" name="phone" class="form-control"
        placeholder="###-###-#### (e.g. 123-456-7890)"
        required
        pattern="(\d{3})-(\d{3})-(\d{4})"
        ng-model="signUpCtrl.user.phone">
      <div class="text-danger"
        ng-if="regForm.phone.$invalid && regForm.phone.$touched">
        Please enter a valid phone number (format: ###-###-####)
      </div>
    </div>
    <div class="form-group">
      <label>Favorite Dish</label>
      <input type="text" name="menu_number" class="form-control"
        placeholder="Please enter menu number (e.g. SP2)"
        required
        ng-change="signUpCtrl.resetError()"
        ng-class="{ 'has-error': signUpCtrl.hasError }"
        ng-model="signUpCtrl.user.menu_number">
      <div class="text-danger"
        ng-if="regForm.menu_number.$error.required && regForm.menu_number.$touched">
        Please enter your favorite dish menu number
      </div>
      <div class="text-danger"
        ng-if="signUpCtrl.hasError">
        No such menu number exists
      </div>
    </div>
    <div class="form-group text-right">
      <button class="btn btn-block btn-primary"
        ng-disabled="regForm.$invalid || signUpCtrl.hasError"
        ng-click="signUpCtrl.submit()">
        Submit
      </button>
    </div>
  </form>
</div>
